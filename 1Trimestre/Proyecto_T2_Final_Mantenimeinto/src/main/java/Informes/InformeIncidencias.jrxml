<?xml version="1.0" encoding="UTF-8"?>
<jasperReport xmlns="http://jasperreports.sourceforge.net/jasperreports" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://jasperreports.sourceforge.net/jasperreports http://jasperreports.sourceforge.net/xsd/jasperreport.xsd" name="null" pageWidth="595" pageHeight="842" columnWidth="555" leftMargin="20" rightMargin="20" topMargin="20" bottomMargin="20" uuid="27ab805e-3173-4275-9fc1-f902e51e05fa">
	<property name="ireport.zoom" value="1.7715610000000037"/>
	<property name="ireport.x" value="0"/>
	<property name="ireport.y" value="0"/>
	<parameter name="estado" class="java.lang.String">
		<defaultValueExpression><![CDATA[]]></defaultValueExpression>
	</parameter>
	<queryString>
		<![CDATA[SELECT  i.id_incidencia,
		p.nombre_completo,
		i.descripcion,
		i.desc_tecnica,
		i.horas,
		e.estado,
		i.fecha,
		i.fecha_ini_rep,
		i.fecha_fin_rep,
		u.urgencia,
		i.id_ubicacion,
		i.observaciones
FROM man_incidencias i
INNER JOIN man_estado e on e.id_estado = i.id_estado
INNER JOIN man_urgencia u on u.id_urgencia = i.nivel_urgencia
INNER JOIN fp_profesor p on p.id_profesor = i.id_profesor_crea
WHERE e.estado = $P{estado};]]>
	</queryString>
	<field name="id_incidencia" class="java.lang.Integer">
		<fieldDescription><![CDATA[]]></fieldDescription>
	</field>
	<field name="nombre_completo" class="java.lang.String">
		<fieldDescription><![CDATA[]]></fieldDescription>
	</field>
	<field name="descripcion" class="java.lang.String">
		<fieldDescription><![CDATA[]]></fieldDescription>
	</field>
	<field name="desc_tecnica" class="java.lang.String">
		<fieldDescription><![CDATA[]]></fieldDescription>
	</field>
	<field name="horas" class="java.lang.Float">
		<fieldDescription><![CDATA[]]></fieldDescription>
	</field>
	<field name="estado" class="java.lang.String">
		<fieldDescription><![CDATA[]]></fieldDescription>
	</field>
	<field name="fecha" class="java.sql.Date">
		<fieldDescription><![CDATA[]]></fieldDescription>
	</field>
	<field name="fecha_ini_rep" class="java.time.LocalDateTime">
		<fieldDescription><![CDATA[]]></fieldDescription>
	</field>
	<field name="fecha_fin_rep" class="java.time.LocalDateTime">
		<fieldDescription><![CDATA[]]></fieldDescription>
	</field>
	<field name="urgencia" class="java.lang.String">
		<fieldDescription><![CDATA[]]></fieldDescription>
	</field>
	<field name="id_ubicacion" class="java.lang.Integer">
		<fieldDescription><![CDATA[]]></fieldDescription>
	</field>
	<field name="observaciones" class="java.lang.String">
		<fieldDescription><![CDATA[]]></fieldDescription>
	</field>
	<background>
		<band splitType="Stretch"/>
	</background>
	<title>
		<band height="79" splitType="Stretch">
			<textField>
				<reportElement x="121" y="21" width="335" height="20" uuid="30e6c45a-dc2a-47c0-9057-30b9a7e8c5d2"/>
				<textFieldExpression><![CDATA["INFORME DE INCIDENCIAS FILTRADO POR: "  + $P{estado}.toUpperCase()]]></textFieldExpression>
			</textField>
		</band>
	</title>
	<pageHeader>
		<band height="35" splitType="Stretch"/>
	</pageHeader>
	<columnHeader>
		<band height="61" splitType="Stretch">
			<staticText>
				<reportElement x="107" y="30" width="100" height="20" uuid="c7db351b-17b4-4788-b7d8-6da05b306328"/>
				<text><![CDATA[CREADA POR]]></text>
			</staticText>
			<staticText>
				<reportElement x="221" y="30" width="100" height="20" uuid="6c17bf9c-e7d3-40c0-a803-11423d5be847"/>
				<text><![CDATA[DESCRIPCION]]></text>
			</staticText>
			<staticText>
				<reportElement x="7" y="30" width="80" height="20" uuid="38186db9-08b1-463b-b42e-5e0859554676"/>
				<text><![CDATA[ID INCIDENCIA]]></text>
			</staticText>
			<staticText>
				<reportElement x="331" y="30" width="114" height="20" uuid="5899c2c3-a87a-4a99-8802-b2957298f93a"/>
				<text><![CDATA[Creacion de Incidencia]]></text>
			</staticText>
			<staticText>
				<reportElement x="467" y="30" width="76" height="20" uuid="b54b510c-43c3-4a5d-8a58-f10ec614e6db"/>
				<text><![CDATA[URGENCIA]]></text>
			</staticText>
			<line>
				<reportElement x="7" y="52" width="536" height="1" uuid="0c3f956e-9966-4379-ade5-5c50a33bb8cf"/>
			</line>
			<staticText>
				<reportElement x="384" y="1" width="100" height="20" uuid="aaaa50a4-1ffa-44a4-837f-e6f1f7a14b02"/>
				<text><![CDATA[fecha]]></text>
			</staticText>
		</band>
	</columnHeader>
	<detail>
		<band height="56" splitType="Stretch">
			<textField>
				<reportElement x="221" y="14" width="100" height="32" uuid="7f96dd49-30d2-4669-a4a1-af2d3bb40478"/>
				<textFieldExpression><![CDATA[$F{descripcion}]]></textFieldExpression>
			</textField>
			<textField>
				<reportElement x="467" y="14" width="88" height="20" uuid="04081f65-40fe-45d0-a3dc-774d438d0180"/>
				<textFieldExpression><![CDATA[$F{urgencia}]]></textFieldExpression>
			</textField>
			<textField>
				<reportElement x="7" y="14" width="80" height="20" uuid="4b790fbd-eab9-412d-9ca3-cd0ce28eb44e"/>
				<textFieldExpression><![CDATA[$F{id_incidencia}]]></textFieldExpression>
			</textField>
			<textField>
				<reportElement x="107" y="14" width="100" height="20" uuid="1c068751-6247-466a-ad25-11e07b1c2bf7"/>
				<textFieldExpression><![CDATA[$F{nombre_completo}]]></textFieldExpression>
			</textField>
			<textField pattern="dd/MM/yyyy">
				<reportElement x="331" y="14" width="100" height="20" uuid="8968b992-d5c4-49d1-902b-f1f923fb8235"/>
				<textFieldExpression><![CDATA[$F{fecha}]]></textFieldExpression>
			</textField>
		</band>
	</detail>
	<columnFooter>
		<band splitType="Stretch"/>
	</columnFooter>
	<pageFooter>
		<band height="17" splitType="Stretch"/>
	</pageFooter>
	<summary>
		<band height="203" splitType="Stretch">
			<textField>
				<reportElement x="63" y="19" width="429" height="41" uuid="cbb534cb-3a8d-40ad-8210-edb791f4a687"/>
				<textFieldExpression><![CDATA["GRAFICO DE INCIDENCIAS " + $F{estado}.toUpperCase() + 
" ORDENADAS POR NIVEL DE URGENCIA"]]></textFieldExpression>
			</textField>
			<bar3DChart>
				<chart>
					<reportElement x="44" y="73" width="478" height="117" uuid="a1b20220-aa3d-4e06-b48c-7990418504a3"/>
					<chartTitle/>
					<chartSubtitle/>
					<chartLegend/>
				</chart>
				<categoryDataset>
					<categorySeries>
						<seriesExpression><![CDATA["Incidencias"]]></seriesExpression>
						<categoryExpression><![CDATA[$F{urgencia}]]></categoryExpression>
						<valueExpression><![CDATA[$F{id_incidencia}]]></valueExpression>
					</categorySeries>
				</categoryDataset>
				<bar3DPlot>
					<plot/>
					<itemLabel/>
					<categoryAxisFormat>
						<axisFormat/>
					</categoryAxisFormat>
					<valueAxisFormat>
						<axisFormat/>
					</valueAxisFormat>
				</bar3DPlot>
			</bar3DChart>
		</band>
	</summary>
</jasperReport>
